<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Live Camera Video</title>
<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="js/hammer.min.js" type="text/javascript"></script>
<script src="js/TweenMax.min.js" type="text/javascript"></script>
<script src="js/jquery.pinchzoomer.js" type="text/javascript"></script> 
<link href="css/pinchzoomer.css" rel="stylesheet">
<style>
html {
  height:100%;
	background: #FFF;
}
body {
  margin:0;
  padding:0;
  height:100%
}
.zoomHolder {
  width:100%;
  height:100%;
  min-height:100%;
  position:absolute;
  overflow: hidden
}
.controlHolder
{
  right: auto;
	left: 50%;
	transform: translateX(-50%);
  font-size: 0;
  white-space: nowrap;
}
.fullscreenToggle, .zoomIn, .zoomOut
{
	display: inline-block;
	margin: 0 10px;
}
.snapshotBtn {
	background: url(../assets/snapshot.png) no-repeat;
}
</style>
</head>
<body>
<div class="zoomHolder">
  <img alt="" id="video" data-src="stream.mjpg" data-elem="pinchzoomer" data-options="maxZoom:6;scaleMode:proportionalInside;fullscreenScaleMode:proportionalOutside" oncontextmenu="return false;"/>
  <div class="controlHolder" data-elem="controlHolder">
    <div class="zoomIn" data-elem="zoomIn"></div>
    <div class="zoomOut" data-elem="zoomOut"></div>
    <div class="fullscreenToggle" data-elem="fullscreenToggle"></div>
    <div class="fullscreenToggle snapshotBtn" onclick="snapshot()"></div>
  </div>
</div>
<script>
function snapshot() {
  window.location = "snapshot.html";
}
document.onvisibilitychange = () => {
  if (document.visibilityState === "visible") {
    document.getElementById("video").src=""; 
    document.getElementById("video").src="stream.mjpg"
  }
};
</script>
</body>
</html>
